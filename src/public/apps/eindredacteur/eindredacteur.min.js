!function(){function t(t){return i.append("button").attr("id",t).attr("class","w3-button w3-round w3-indigo").append("svg").attr("viewBox","0 0 16 16").attr("class","button-icon")}var e=d3.select("#viz"),d=e.append("div").attr("id","progress-and-buttons"),a=d.append("ol").attr("id","progress-indication"),s=a.append("li").text("herformuleren van informerende naar enthousiasmerende toon ").append("span"),n=a.append("li").text("volgorde verbeteren en tussenkopjes maken ").append("span"),i=d.append("div").attr("id","buttons");t("back").append("path").attr("d","M 9 2.5 v 5 l 5 -5 v 11 l -5 -5 v 5 l -5.5 -5.5 Z");var l=t("startstop");l.append("path").attr("class","icon-start").attr("d","M 3 2 l 10 6 l -10 6 Z"),l.append("path").attr("class","icon-playing").attr("d","M 2 2 h 5 v 12 h -5 Z M 9 2 h 5 v 12 h -5 Z").style("visibility","hidden"),t("forward").append("path").attr("d","M 8 13.5 v -5 l -5 5 v -11 l 5 5 v -5 l 5.5 5.5 Z"),t("reset").append("path").attr("d","M 13.901 2.599 c -1.463 -1.597 -3.565 -2.599 -5.901 -2.599 c -4.418 0 -8 3.582 -8 8 h 1.5 c 0 -3.59 2.91 -6.5 6.5 -6.5 c 1.922 0 3.649 0.835 4.839 2.161 l -2.339 2.339 h 5.5 v -5.5 l -2.099 2.099 Z M 14.5 8 c 0 3.59 -2.91 6.5 -6.5 6.5 c -1.922 0 -3.649 -0.835 -4.839 -2.161 l 2.339 -2.339 h -5.5 v 5.5 l 2.099 -2.099 c 1.463 1.597 3.565 2.599 5.901 2.599 c 4.418 0 8 -3.582 8 -8 h -1.5 Z"),d3.select("#reset").property("disabled",!0).classed("disabled",!0);var r=14,o=Math.round(1.7*r),p=400,c=550,b=0,x=0,v=!1,u=!1,y=e.append("div").attr("id","demo");y.append("div").attr("id","replaceable-text"),y.append("div").attr("id","moved-text");var f=e.append("div").attr("class","w3-modal").style("display","none"),h=f.append("div").attr("class","w3-modal-content");h.append("span").attr("class","w3-button w3-display-topright").on("click",function(){return f.style("display","none")}).html("&times;"),h.append("div").attr("id","original-text").append("p").text("OORSPONKELIJKE TEKST"),h.append("div").attr("id","final-text").append("p").text("NA EINDREDACTIE");e.append("div").attr("id","footer").append("p").text("Wil je direct de begintekst en het eindresultaat bij elkaar zien?").append("button").attr("class","w3-button w3-round w3-indigo").text("Ja, toon beide").on("click",function(){f.style("display","block")}),d3.csv("eindredacteur.csv",function(t,e){function d(){v=!0,i();var t,d=u?p:p/10,l=u?c:c/8;b<=17?(d3.select("#replaceable-text .text-"+b).transition().duration(.5*d).styleTween("font-size",function(){return t=this.style.fontSize.split("px")[0],d3.interpolate(t+"px",1.4*+t+"px")}).transition().delay(3*d).style("text-decoration","line-through").duration(3*d).styleTween("opacity",function(){return d3.interpolate("1","0.000001")}).transition().delay(.3*d).styleTween("opacity",function(){return d3.interpolate("0.000001","1")}).style("text-decoration","none").text(e[b].nwetekst).transition().delay(3*d).duration(1*d).styleTween("font-size",function(){return d3.interpolate(1.4*+t+"px",t+"px")}).on("end",a),b++,s.text(b+"/18")):x<=17&&(d3.select("#replaceable-text .nw-pos-"+f[x].nwepositie).transition().duration(.25*l).styleTween("background-color",function(){return d3.interpolate("#fff","#d8dcf1")}).transition().delay(2*l).style("background-color","#fff").text(""),0===x&&d3.select("#moved-text").append("div").attr("class","moved-text-0 moved-remark").text("BETERE VOLGORDE EN TUSSENKOPJES"),f[x].tskop&&d3.select("#moved-text").append("div").attr("class","moved-text-"+x+" h3 pos-"+f[x].pos).text(f[x].tskop),d3.select("#moved-text").append("div").attr("class","moved-text-"+x+" "+f[x].nwehtml).text(f[x].nwetekst).style("opacity",1e-4).transition().delay(2.25*l).style("opacity",1).transition().duration(2*l).styleTween("background-color",function(){return d3.interpolate("#d8dcf1","#fff")}).on("end",a),x++,n.text(x+"/18"))}function a(){u&&x<18?setTimeout(d,1200):18===x&&(u=!1),v=!1,i()}function i(){var t=d3.select("#back"),e=d3.select("#startstop"),d=d3.select("#forward"),a=d3.select("#reset");t.property("disabled",!1).classed("disabled",!1),e.property("disabled",!1).classed("disabled",!1),d.property("disabled",!1).classed("disabled",!1),a.property("disabled",!1).classed("disabled",!1),0===b?(t.property("disabled",!0).classed("disabled",!0),a.property("disabled",!0).classed("disabled",!0)):18===x&&(e.property("disabled",!0).classed("disabled",!0),d.property("disabled",!0).classed("disabled",!0),l()),u?(t.property("disabled",!0).classed("disabled",!0),d.property("disabled",!0).classed("disabled",!0),a.property("disabled",!0).classed("disabled",!0)):v&&(t.property("disabled",!0).classed("disabled",!0),e.property("disabled",!0).classed("disabled",!0),d.property("disabled",!0).classed("disabled",!0),a.property("disabled",!0).classed("disabled",!0))}function l(){d3.selectAll("#startstop .icon-start, #startstop .icon-playing").each(function(){var t=d3.select(this);"hidden"===t.style("visibility")?t.style("visibility","visible"):t.style("visibility","hidden")})}var y=function(t){return e.forEach(function(e,d){d3.selectAll(t).append("div").attr("class","text-"+d+" "+e.html+" nw-pos-"+e.nwepositie).style("font-size","h2"===e.html?o+"px":r+"px").text(e.tekst),s.text("0/18"),n.text("0/18")})};y("#replaceable-text, #original-text");var f=e.slice().sort(function(t,e){return t.nwepositie-e.nwepositie});f.forEach(function(t,e){t.tskop&&d3.select("#final-text").append("div").attr("class","text-"+e+"-h3 h3").text(t.tskop),d3.select("#final-text").append("div").attr("class","text-"+e+" "+t.nwehtml).text(t.nwetekst)}),d3.select("#forward").on("click",d),d3.select("#back").on("click",function(){x>0?(x--,n.text(x+"/18"),d3.selectAll(".moved-text-"+x).remove(),d3.select("#replaceable-text .text-"+x).style("font-size","h2"===e[x].nwehtml?o+"px":r+"px").style("background-color","rgba(255,255,255,1)").text(e[x].nwetekst)):b>0&&(b--,s.text(b+"/18"),d3.select("#replaceable-text .text-"+b).text(e[b].tekst)),i()}),d3.select("#startstop").on("click",function(){u?(u=!1,d3.select("#startstop").property("disabled",!0).classed("disabled",!0),l()):(u=!0,l(),d())}),d3.select("#reset").on("click",function(){d3.selectAll("#replaceable-text div, #moved-text div").remove(),y("#replaceable-text"),b=0,x=0,s.text("0/18"),n.text("0/18"),i()})})}();
//# sourceMappingURL=eindredacteur.min.js.map
