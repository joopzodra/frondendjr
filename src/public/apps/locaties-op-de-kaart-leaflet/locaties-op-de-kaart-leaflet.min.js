!function(){function e(e){return e.charAt(0).toUpperCase()+e.slice(1)}function t(t){var r=JSON.parse(t).features;d={type:"",features:r},function(){var t=d.features.map(function(e){return e.properties.SOORT}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]);t.forEach(function(t){var o=L.DomUtil.create("option","",l.getContainer().firstChild);o.setAttribute("value",t),n[t]?o.textContent=e(n[t]):o.textContent=e(t)}),o({target:{value:t[0]}})}()}function o(e){var t=e.target.value;p&&s.removeLayer(p);var o=d.features.filter(function(e){return e.properties.SOORT===t}),n={type:"",features:o};p=L.geoJSON(n,{onEachFeature:r}).addTo(s),function(e){var t=document.querySelectorAll("#list-modal button");Array.prototype.forEach.call(t,function(e){e.parentNode.removeChild(e)}),e.forEach(function(e,t){var o=L.DomUtil.create("button","w3-button w3-block w3-border w3-border-dark-grey",g);o.innerHTML=""+e.properties.NAAM,o.addEventListener("click",function(){return function(e,t){s.setView([e.geometry.coordinates[1],e.geometry.coordinates[0]],15),c.style.display="none",p.getLayers()[t].openPopup()}(e,t)})})}(o)}function r(e,t){t.bindPopup("<div>"+e.properties.NAAM+"<br>"+e.properties.ADRES+"</div>")}var n={super:"supermarkt",slager:"slager",bakker:"bakker, banketbakker",vis:"vis",groenten:"groenten en fruit",kaas:"kaas",dranken:"slijterij",toko:"toko",koffie:"koffie en thee",biologisch:"biologische voeding",markt:"markt"},a=document.getElementById("viz"),i=L.DomUtil.create("div","",a),s=L.map(i,{center:[51.974,5.667],layers:[L.tileLayer("https://geodata.nationaalgeoregister.nl/tiles/service/wmts/brtachtergrondkaart/EPSG:3857/{z}/{x}/{y}.png",{attribution:"NLMaps Â© Kadaster"})],zoom:14});s.attributionControl.setPrefix("");var c=L.DomUtil.create("div","list-modal w3-modal",a),l=new(L.Control.extend({onAdd:function(e){var t=L.DomUtil.create("div","select-control"),r=L.DomUtil.create("select","select-element",t);L.DomEvent.disableClickPropagation(r),L.DomEvent.on(r,"change",o);var n=L.DomUtil.create("button","select-button",t);return n.textContent="Toon selectie in lijst",n.addEventListener("click",function(){return c.style.display="block"}),t},onRemove:function(e){}}))({position:"topright"});l.addTo(s);var u=new XMLHttpRequest;u.open("GET","locaties-op-de-kaart.geojson",!0),u.onreadystatechange=function(){4===u.readyState&&(200===u.status?t(u.responseText):console.log("Error "+u.status+", text: "+u.responseText))},u.send();var d,p;c.id="list-modal";var v=L.DomUtil.create("div","w3-modal-content",c),f=L.DomUtil.create("div","w3-container",v),m=L.DomUtil.create("span","w3-button w3-display-topright hide-modal-button",f);m.innerHTML="&times;",m.addEventListener("click",function(){return c.style.display="none"});var g=L.DomUtil.create("div","list-container",f)}();
//# sourceMappingURL=locaties-op-de-kaart-leaflet.min.js.map
