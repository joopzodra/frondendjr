{"version":3,"sources":["webpack:///./src/store/index.js","webpack:///./src/components/Header.vue?6f62","webpack:///./src/components/Header.vue","webpack:///src/components/Header.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0a3e","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/services/backend-service.js"],"names":["__WEBPACK_IMPORTED_MODULE_1_vue__","use","__WEBPACK_IMPORTED_MODULE_2_vuex__","__webpack_exports__","Store","state","poems","poemsLoadingCompleted","headerHeight","poemsLoadingOffset","mutations","loadPoems","concat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","setPoemsLoadingCompleted","addPoem","poem","unshift","setHeaderHeight","addToPoemsLoadingOffset","loadedPoemsLength","components_Header","render","_h","this","$createElement","_c","_self","_v","staticClass","attrs","to","staticRenderFns","src_components_Header","__webpack_require__","normalizeComponent","mounted","$emit","$el","offsetHeight","ssrContext","App","components","Header","data","enterActiveClass","leaveActiveClass","swipeOnlyTo","computed","$store","beforeCreate","localforage_default","a","config","name","storeName","created","backend_service","getPoems","catch","err","console","log","then","connectSocket","setSwipeListener","watch","$route","from","path","methods","onHeaderMounted","commit","_this","routes","currentRouteIndex","indexOf","$router","currentRoute","mostRightRouteIndex","length","slideContainer","document","getElementById","hammer","hammer_default","get","set","direction","DIRECTION_HORIZONTAL","on","push","selectortype_template_index_0_src_App","id","headermounted","style","margin-top","enter-active-class","leave-active-class","src_App","App_normalizeComponent","vue_esm","vue_router_esm","router","mode","base","component","e","bind","redirect","d","vueInstance","Object","es6_promise","productionTip","el","store","template","backendService","backendUrl","numberOfPoemsToLoad","offset","__WEBPACK_IMPORTED_MODULE_4__store_index__","__WEBPACK_IMPORTED_MODULE_2_axios___default","params","limit","response","convertedPoems","map","convertSql","completed","fragment","poet","sourceUrlLabel","source_url_label","sourceUrl","source_url","poetImg","poet_img","createdAt","time","_this2","socket","__WEBPACK_IMPORTED_MODULE_3_socket_io_client___default","connect","convertedPoem"],"mappings":"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","file":"static/js/app.2e0d541ddf96e7875462.js","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    poems: [],\n    poemsLoadingCompleted: false,\n    headerHeight: 0,\n    poemsLoadingOffset: 0\n  },\n  mutations: {\n    loadPoems (state, poems) {\n      state.poems = [...state.poems, ...poems]\n    },\n    setPoemsLoadingCompleted (state, poemsLoadingCompleted) {\n      state.poemsLoadingCompleted = poemsLoadingCompleted\n    },\n    addPoem (state, poem) {\n      state.poems.unshift(poem)\n    },\n    setHeaderHeight (state, headerHeight) {\n      state.headerHeight = headerHeight\n    },\n    addToPoemsLoadingOffset (state, loadedPoemsLength) {\n      state.poemsLoadingOffset += loadedPoemsLength\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('h1',[_vm._v(\"dagelijks vers\")]),_vm._v(\" \"),_c('nav',{staticClass:\"w3-border-top\"},[_c('router-link',{attrs:{\"to\":\"/aanvoer\"}},[_vm._v(\"aanvoer\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/voorraad\"}},[_vm._v(\"voorraad\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-68186fde\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68186fde\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68186fde\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-68186fde\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = null\n// module chunks = ","<template>\n  <header>\n    <h1>dagelijks vers</h1>\n    <nav class=\"w3-border-top\">\n      <router-link to=\"/aanvoer\">aanvoer</router-link>\n      <router-link to=\"/voorraad\">voorraad</router-link>\n    </nav>\n  </header>\n</template>\n\n<script>\nexport default {\n  mounted () {\n    this.$emit('headermounted', this.$el.offsetHeight)\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\nheader {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  max-width: 600px;\n  z-index: 1000;\n  background-color: #fff;\n  padding-bottom: 16px;\n}\n\nh1 {\n  text-align: center;\n  color: green;\n  margin: 0;\n  font-weight: normal;\n}\n\nnav {\n  display: flex;\n  justify-content: space-around;\n  border-color: green;\n  a {\n    display: block;\n    flex: 1 1 50%;\n    text-align: center;\n    padding: 8px 0;\n    color: green;\n    text-decoration: none;\n    background-color: rgba(0, 128, 0, 0.1);\n  }\n  a:nth-child(1) {\n    border-radius: 0 0 10px 0;\n  }\n  a:nth-child(2) {\n    border-radius: 0 0 0 10px;\n  }\n  .router-link-active {\n    background-color: rgb(255, 255, 255);\n  }\n}\n\n.nav-bar-item {\n  flex: 1 1 50%;\n  text-align: center;\n}\n\n@media (min-width: 64em) {\n  .header {\n    max-width: none;\n  }\n  nav {\n    justify-content: center;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Header.vue","<template>\n  <div id=\"app\">\n    <Header v-on:headermounted=\"onHeaderMounted\" />\n    <div id=\"slide-container\" class=\"slide-container\" :style=\"{ 'margin-top': headerHeight + 'px'}\">\n      <transition\n      name=\"transitionName\"\n      :enter-active-class=\"enterActiveClass\"\n      :leave-active-class=\"leaveActiveClass\"\n      >\n      <router-view/>\n    </transition>\n  </div>\n</div>\n</template>\n\n<script>\nimport localforage from 'localforage'\nimport Header from './components/Header.vue'\nimport Hammer from 'hammerjs'\nimport { backendService } from './services/backend-service'\n\nexport default {\n  components: {\n    Header\n  },\n  data () {\n    return {\n      enterActiveClass: '',\n      leaveActiveClass: '',\n      swipeOnlyTo: ''\n    }\n  },\n\n  computed: {\n    headerHeight () {\n      return this.$store.state.headerHeight\n    }\n  },\n\n  beforeCreate () {\n    localforage.config({\n      name: 'dagelijks-vers',\n      storeName: 'poems'\n    })\n  },\n\n  created () {\n    backendService.getPoems()\n      .catch(err => {\n        console.log(err) // TODO: proper error handling //////////////\n      })\n      .then(() => backendService.connectSocket())\n  },\n\n  mounted () {\n    this.setSwipeListener()\n  },\n\n  watch: {\n    '$route' (to, from) {\n      if (from.path === '/') {\n        this.enterActiveClass = 'animated fadeIn'\n        this.leaveActiveClass = 'animated fadeOut'\n      } else if (to.path === '/aanvoer') {\n        this.enterActiveClass = 'animated slideInLeft'\n        this.leaveActiveClass = 'animated slideOutRight'\n      } else if (to.path === '/voorraad') {\n        this.enterActiveClass = 'animated slideInRight'\n        this.leaveActiveClass = 'animated slideOutLeft'\n      }\n    }\n  },\n\n  methods: {\n    onHeaderMounted: function (headerHeight) {\n      this.$store.commit('setHeaderHeight', headerHeight)\n    },\n    setSwipeListener () {\n      const routes = ['/aanvoer', '/voorraad']\n      let currentRouteIndex = routes.indexOf(this.$router.currentRoute.path)\n      const mostLeftRouteIndex = 0\n      const mostRightRouteIndex = routes.length - 1\n      const slideContainer = document.getElementById('slide-container')\n      const hammer = new Hammer(slideContainer)\n      hammer.get('swipe').set({ direction: Hammer.DIRECTION_HORIZONTAL })\n      hammer.on('swipeleft', () => {\n        if (currentRouteIndex < mostRightRouteIndex) {\n          this.$router.push(routes[currentRouteIndex + 1])\n          currentRouteIndex++\n        }\n      })\n      hammer.on('swiperight', () => {\n        if (currentRouteIndex > mostLeftRouteIndex) {\n          this.$router.push(routes[currentRouteIndex - 1])\n          currentRouteIndex--\n        }\n      })\n    }\n  }\n}\n</script>\n\n// Css for all app components\n<style src=\"./normalize.css\"></style>\n<style src=\"./w3.css\"></style>\n<style src=\"./animate.css\"></style>\n<style src=\"./flexboxgrid.css\"></style>\n<style src=\"./styles.scss\" lang=\"scss\"></style>\n\n<style scoped>\n.slide-container {\n  position: relative;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Header',{on:{\"headermounted\":_vm.onHeaderMounted}}),_vm._v(\" \"),_c('div',{staticClass:\"slide-container\",style:({ 'margin-top': _vm.headerHeight + 'px'}),attrs:{\"id\":\"slide-container\"}},[_c('transition',{attrs:{\"name\":\"transitionName\",\"enter-active-class\":_vm.enterActiveClass,\"leave-active-class\":_vm.leaveActiveClass}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64f38adf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64f38adf\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./normalize.css\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64f38adf\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./w3.css\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64f38adf\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./animate.css\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64f38adf\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./flexboxgrid.css\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64f38adf\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./styles.scss\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64f38adf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=5!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64f38adf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-64f38adf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nconst PoemListDelivered = () => import(/* webpackChunkName: \"poem-lists\" */ '../components/PoemListDelivered')\nconst PoemListStored = () => import(/* webpackChunkName: \"poem-lists\" */ '../components/PoemListStored')\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  base: '/apps/dagelijks-vers/',\n  routes: [\n    {\n      path: '/aanvoer',\n      component: PoemListDelivered\n    },\n    {\n      path: '/voorraad',\n      component: PoemListStored\n    },\n    {\n      path: '*',\n      redirect: '/aanvoer'\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport './styles.scss'\n\n// enable Promises in IE\nimport { polyfill } from 'es6-promise'\npolyfill()\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nexport const vueInstance = new Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios'\nimport io from 'socket.io-client'\n\nimport store from '../store/index'\n\nclass BackendService {\n  backendUrl = process.env.NODE_ENV === 'development' ? 'http://localhost:8000/' : 'http://frontendjr.nl/'\n  numberOfPoemsToLoad = 3\n\n  getPoems () {\n    const offset = store.state.poemsLoadingOffset\n    return axios.get(this.backendUrl + 'gedichtenDb/fragments', {\n      params: {\n        offset: offset,\n        limit: this.numberOfPoemsToLoad\n      }\n    })\n      .then(response => {\n        const convertedPoems = response.data.poems.map(poem => this.convertSql(poem))\n        store.commit('loadPoems', convertedPoems)\n        store.commit('setPoemsLoadingCompleted', response.data.completed)\n        store.commit('addToPoemsLoadingOffset', convertedPoems.length)\n      })\n  }\n\n  convertSql (poem) {\n    return {\n      id: poem.id,\n      fragment: poem.fragment,\n      poet: poem.poet,\n      sourceUrlLabel: poem.source_url_label,\n      sourceUrl: poem.source_url,\n      poetImg: poem.poet_img,\n      createdAt: poem.createdAt, // this property is used for sorting on time\n      time: poem.time\n    }\n  }\n\n  connectSocket () {\n    this.socket = io.connect(this.backendUrl)\n    this.socket.on('poemAdded', poem => {\n      const convertedPoem = this.convertSql(poem)\n      store.commit('addPoem', convertedPoem)\n      store.commit('addToPoemsLoadingOffset', 1)\n    })\n  }\n}\n\nexport const backendService = new BackendService()\n\n\n// WEBPACK FOOTER //\n// ./src/services/backend-service.js"],"sourceRoot":""}