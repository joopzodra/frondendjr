!function(){var t=d3.select("#viz"),e=[{id:"totaal",label:"alle leeftijden",color:"#1f77b4"},{id:"tot45",label:"35-45 jaar",color:"#ff7f0e"},{id:"tot55",label:"45-55 jaar",color:"#2ca02c"},{id:"tot65",label:"55-65 jaar",color:"#d62728"},{id:"tot75",label:"65-75 jaar",color:"#17becf"},{id:"boven75",label:"ouder dan 75 jaar",color:"#8c564b"}],n=["totaal","tot75","boven75"];t.append("div").attr("id","buttons").selectAll("button").data(e).enter().append("button").attr("id",function(t){return t.id}).attr("class","w3-button w3-border").style("background-color",function(t){return-1===n.indexOf(t.id)?"#fff":t.color}).style("color",function(t){return-1===n.indexOf(t.id)?"#000":"#fff"}).html(function(t){return t.label});var r=60,a=20,i=40,o=300-20-i,l=200-r-a,c=400-r-a,d=c-2*l,s=d3.format(".0%"),u=d3.timeYears(new Date(2001,0,1),new Date(2010,0,1)),f=d3.scaleTime().domain([new Date(2e3,8,1),new Date(2009,3,1)]).range([0,o]),p=d3.axisBottom(f).tickSizeInner(6).tickSizeOuter(0),g=d3.scaleLinear().domain([0,.25]).range([l,0]),b=d3.scaleLinear().domain([0,.5]).range([c,d]),m=d3.axisLeft(g).ticks(5).tickFormat(s),x=d3.axisLeft(b).ticks(10).tickFormat(s),v=d3.line().x(function(t,e){return f(u[e])}).y(function(t){return g(+t/100)}),y=d3.line().x(function(t,e){return f(u[e])}).y(function(t){return b(+t/100)});d3.csv("langdurige-aandoeningen.csv",function(a,s){var h=d3.nest().key(function(t){return t.Aandoening}).key(function(t){return t.Leeftijd}).entries(s),k=["Hoge bloeddruk","Gewrichtsslijtage"],w=t.append("div").attr("id","charts").selectAll(".chart").data(h).enter().append("div").attr("class","chart").append("svg").attr("width",300).attr("height",function(t){return-1===k.indexOf(t.key)?200:400}).append("g").attr("id",function(t,e){return"disease"+e}).attr("transform","translate("+i+", "+r+")");w.append("g").attr("class","x axis").attr("transform",function(t){return-1===k.indexOf(t.key)?"translate(0, "+l+")":"translate(0, "+c+")"}).call(p),w.append("g").attr("class","y axis").each(function(t){return-1===k.indexOf(t.key)?d3.select(this).call(m):d3.select(this).call(x)}),w.append("rect").attr("x",0).attr("y",function(t){return-1===k.indexOf(t.key)?-18:d-18}).attr("width",o).attr("height",18).attr("class","textrect"),w.append("text").attr("class","headtext").attr("transform",function(t){return-1===k.indexOf(t.key)?"translate(5, -5)":"translate(5, "+(d-5)+")"}).text(function(t){return t.key});var O=w.append("g").attr("class","lines").selectAll("g").data(function(t){return t.values}).enter().append("g").attr("class",function(t){return t.key.toLowerCase()}).classed("hidden",function(t){return-1===n.indexOf(t.key.toLowerCase())});O.append("path").attr("d",function(t){var e=t.values[0];return-1===k.indexOf(e.Aandoening)?v(u.map(function(t){return+e[t.getFullYear()]})):y(u.map(function(t){return+e[t.getFullYear()]}))}).attr("stroke",function(t,n){return e[n].color}),O.append("g").attr("class","numbers").selectAll(".number").data(function(t){return u.map(function(e){return[t.values[0][e.getFullYear()],t.values[0].Aandoening]})}).enter().append("text").attr("class",function(t){return"number"}).attr("x",function(t,e){return f(u[e])}).attr("y",function(t){return-1===k.indexOf(t[1])?g(+t[0]/100):b(+t[0]/100)}).text(function(t){return t[0].toString().replace(/\./g,",")}).attr("text-anchor","middle"),w.append("rect").attr("x",0).attr("y",function(t){return-1===k.indexOf(t.key)?0:d}).attr("width",o).attr("height",function(t){return-1===k.indexOf(t.key)?l:2*l}).style("fill-opacity",0).style("stroke-width",0).on("mouseover",function(t,e){d3.event.stopPropagation(),d3.select("#disease"+e).selectAll(".numbers").classed("visible",!0)}).on("mouseout",function(t,e){d3.select("#disease"+e).selectAll(".numbers").classed("visible",!1)}),d3.select("#viz").on("mouseover",function(){return d3.selectAll(".numbers").classed("visible",!1)})}),d3.selectAll("button").on("click",function(t){d3.event.stopPropagation();var e=d3.selectAll("."+t.id),n=d3.select(this);e.classed("hidden")?(e.classed("hidden",!1),n.style("background-color",t.color,"important").style("color","#fff","important")):(e.classed("hidden",!0),n.style("background-color","#fff","important").style("color","#000","important"))})}();
//# sourceMappingURL=langdurige-aandoeningen.min.js.map
