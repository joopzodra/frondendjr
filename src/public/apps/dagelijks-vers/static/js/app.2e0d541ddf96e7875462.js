webpackJsonp([2],{0:function(e,t){},"5fvu":function(e,t){},"6LXg":function(e,t){},"8bDl":function(e,t){},IcnI:function(e,t,n){"use strict";var o=n("Gu7T"),a=n.n(o),i=n("7+uW"),s=n("NYxO");i.a.use(s.a),t.a=new s.a.Store({state:{poems:[],poemsLoadingCompleted:!1,headerHeight:0,poemsLoadingOffset:0},mutations:{loadPoems:function(e,t){e.poems=[].concat(a()(e.poems),a()(t))},setPoemsLoadingCompleted:function(e,t){e.poemsLoadingCompleted=t},addPoem:function(e,t){e.poems.unshift(t)},setHeaderHeight:function(e,t){e.headerHeight=t},addToPoemsLoadingOffset:function(e,t){e.poemsLoadingOffset+=t}}})},K9zO:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a=n("22C0"),i=n.n(a),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h1",[this._v("dagelijks vers")]),this._v(" "),t("nav",{staticClass:"w3-border-top"},[t("router-link",{attrs:{to:"/aanvoer"}},[this._v("aanvoer")]),this._v(" "),t("router-link",{attrs:{to:"/voorraad"}},[this._v("voorraad")])],1)])},staticRenderFns:[]};var r=n("VU/8")({mounted:function(){this.$emit("headermounted",this.$el.offsetHeight)}},s,!1,function(e){n("6LXg")},"data-v-68186fde",null).exports,c=n("rxKx"),d=n.n(c),u=n("Z0Og"),l={components:{Header:r},data:function(){return{enterActiveClass:"",leaveActiveClass:"",swipeOnlyTo:""}},computed:{headerHeight:function(){return this.$store.state.headerHeight}},beforeCreate:function(){i.a.config({name:"dagelijks-vers",storeName:"poems"})},created:function(){u.a.getPoems().catch(function(e){console.log(e)}).then(function(){return u.a.connectSocket()})},mounted:function(){this.setSwipeListener()},watch:{$route:function(e,t){"/"===t.path?(this.enterActiveClass="animated fadeIn",this.leaveActiveClass="animated fadeOut"):"/aanvoer"===e.path?(this.enterActiveClass="animated slideInLeft",this.leaveActiveClass="animated slideOutRight"):"/voorraad"===e.path&&(this.enterActiveClass="animated slideInRight",this.leaveActiveClass="animated slideOutLeft")}},methods:{onHeaderMounted:function(e){this.$store.commit("setHeaderHeight",e)},setSwipeListener:function(){var e=this,t=["/aanvoer","/voorraad"],n=t.indexOf(this.$router.currentRoute.path),o=t.length-1,a=document.getElementById("slide-container"),i=new d.a(a);i.get("swipe").set({direction:d.a.DIRECTION_HORIZONTAL}),i.on("swipeleft",function(){n<o&&(e.$router.push(t[n+1]),n++)}),i.on("swiperight",function(){n>0&&(e.$router.push(t[n-1]),n--)})}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Header",{on:{headermounted:this.onHeaderMounted}}),this._v(" "),t("div",{staticClass:"slide-container",style:{"margin-top":this.headerHeight+"px"},attrs:{id:"slide-container"}},[t("transition",{attrs:{name:"transitionName","enter-active-class":this.enterActiveClass,"leave-active-class":this.leaveActiveClass}},[t("router-view")],1)],1)],1)},staticRenderFns:[]};var m=n("VU/8")(l,f,!1,function(e){n("8bDl"),n("TDdB"),n("5fvu"),n("PwHB"),n("K9zO"),n("zemY")},"data-v-64f38adf",null).exports,h=n("/ocq");o.a.use(h.a);var v=new h.a({mode:"history",base:"/apps/dagelijks-vers/",routes:[{path:"/aanvoer",component:function(){return n.e(0).then(n.bind(null,"6Jnh"))}},{path:"/voorraad",component:function(){return n.e(0).then(n.bind(null,"oZoV"))}},{path:"*",redirect:"/aanvoer"}]}),p=n("IcnI"),g=(n("UrHU"),n("hKoQ"));n.d(t,"vueInstance",function(){return O}),Object(g.polyfill)(),o.a.config.productionTip=!1;var O=new o.a({el:"#app",router:v,store:p.a,components:{App:m},template:"<App/>"})},PwHB:function(e,t){},TDdB:function(e,t){},UrHU:function(e,t){},Z0Og:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("Zrlr"),a=n.n(o),i=n("wxAW"),s=n.n(i),r=n("mtWM"),c=n.n(r),d=n("DmT9"),u=n.n(d),l=n("IcnI"),f=new(function(){function e(){a()(this,e),this.backendUrl="http://frontendjr.nl/",this.numberOfPoemsToLoad=3}return s()(e,[{key:"getPoems",value:function(){var e=this,t=l.a.state.poemsLoadingOffset;return c.a.get(this.backendUrl+"gedichtenDb/fragments",{params:{offset:t,limit:this.numberOfPoemsToLoad}}).then(function(t){var n=t.data.poems.map(function(t){return e.convertSql(t)});l.a.commit("loadPoems",n),l.a.commit("setPoemsLoadingCompleted",t.data.completed),l.a.commit("addToPoemsLoadingOffset",n.length)})}},{key:"convertSql",value:function(e){return{id:e.id,fragment:e.fragment,poet:e.poet,sourceUrlLabel:e.source_url_label,sourceUrl:e.source_url,poetImg:e.poet_img,createdAt:e.createdAt,time:e.time}}},{key:"connectSocket",value:function(){var e=this;this.socket=u.a.connect(this.backendUrl),this.socket.on("poemAdded",function(t){var n=e.convertSql(t);l.a.commit("addPoem",n),l.a.commit("addToPoemsLoadingOffset",1)})}}]),e}())},zemY:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2e0d541ddf96e7875462.js.map