function draw(){var t,e,r,a,s,n,o,l,i,d,p,c,u=d3.select("#viz"),f=u.append("div").attr("id","buttons-container"),y=u.append("div").attr("id","svg-container"),h=0,b=0,w=2e3,g=2500,m=d3.geoMercator().center([5.6995,51.90825]).scale(9e4),k=d3.geoPath().projection(m),x=y.append("svg").attr("viewBox","0 0 599 350").append("g").attr("transform","translate("+b+", "+h+")").append("g").attr("id","map");d3.queue().defer(d3.json,"data/geulen-smal.geojson").defer(d3.json,"data/geulen-breed.geojson").defer(d3.json,"data/uiterwaarden.json").await(function(u,f,y,h){u?console.error("Error in loading data: "+u):(a=f,s=y,n=topojson.feature(h,h.objects["buitendijks-en-water"]),o=topojson.feature(h,h.objects.hoogwater),l=topojson.feature(h,h.objects["wegen-spoor"]),i=topojson.feature(h,h.objects.plaatsnamen),d=topojson.feature(h,h.objects["rivieren-WatercrsL"]),p=topojson.feature(h,h.objects.NL),c=topojson.feature(h,h.objects.schaal),function(){e=k(a),r=k(s);var u=k(n.features.filter(function(t){return"huis"===t.properties.OMSCHRIJVI})[0]),f=k(n.features.filter(function(t){return"bos"===t.properties.OMSCHRIJVI})[0]),y=k(n.features.filter(function(t){return"wei"===t.properties.OMSCHRIJVI})[0]),h=k(n.features.filter(function(t){return"water"===t.properties.OMSCHRIJVI})[0]),b=k(n.features.filter(function(t){return"rivier"===t.properties.OMSCHRIJVI})[0]),w=k(o),g=k(l.features.filter(function(t){return"spoor"===t.properties.OMSCHRIJVI})[0]),m=k(l.features.filter(function(t){return"snelweg"===t.properties.OMSCHRIJVI})[0]),j=k(l.features.filter(function(t){return"regioweg"===t.properties.OMSCHRIJVI})[0]),v=k(l.features.filter(function(t){return"doorgaande-weg"===t.properties.OMSCHRIJVI})[0]),z=i.features.filter(function(t){return"show"===t.properties.type}),I=k(d),A=k(p),C=k(c);x.append("path").attr("d",A).style("fill","#FFFFB7").style("stroke","#ccc").style("stroke-width",10),x.append("path").attr("d",I).style("fill","none").style("stroke","#7CB5DA").style("stroke-width",9),x.append("path").attr("d",w).style("fill","rgb(223,240,193)").style("stroke","rgb(223,240,193)").style("stroke-width",1),t=x.append("path").attr("d",e).style("fill","rgb(124,181,218)").style("fill-opacity",.5).style("stroke","#000").style("stroke-width",0),x.append("path").attr("d",y).style("fill","rgb(223,240,193)").style("stroke","none").style("stroke-width",0),x.append("path").attr("d",h).style("fill","rgb(124,181,218)").style("stroke","#000").style("stroke-width",0),x.append("path").attr("d",u).style("fill","rgb(189,120,93)").style("stroke","#000").style("stroke-width",0),x.append("path").attr("d",f).style("fill","rgb(101,184,68)").style("stroke","#000").style("stroke-width",0),x.append("path").attr("d",b).style("fill","rgb(124,181,218)").style("stroke","#000").style("stroke-width",0),x.append("path").attr("d",g).style("fill","none").style("stroke","#000").style("stroke-width",2),x.append("path").attr("d",g).style("fill","none").style("stroke","#fff").style("stroke-width",1.3).style("stroke-dasharray","7, 5"),x.append("path").attr("d",m).style("fill","none").style("stroke","rgb(168,168,168)").style("stroke-width",2.5),x.append("path").attr("d",j).style("fill","none").style("stroke","rgb(168,168,168)").style("stroke-width",1.5),x.append("path").attr("d",v).style("fill","none").style("stroke","rgb(168,168,168)").style("stroke-width",.5),x.selectAll(".placenames-layer0").data(z).enter().append("text").attr("class","placenames-layer0").attr("x",function(t){return k.centroid(t)[0]}).attr("y",function(t){return k.centroid(t)[1]}).text(function(t){return t.properties.name.toUpperCase()}),x.selectAll(".placenames-layer1").data(z).enter().append("text").attr("class","placenames-layer1").attr("x",function(t){return k.centroid(t)[0]}).attr("y",function(t){return k.centroid(t)[1]}).text(function(t){return t.properties.name.toUpperCase()});var M=x.append("path").attr("d",C).node().getBBox();x.append("rect").attr("x",M.x-30).attr("y",M.y-11).attr("width",M.width+37).attr("height",M.height+16).style("fill","rgba(256,256,256,0.8)").style("stroke","none");var S=x.append("g").attr("id","legend-g").attr("transform","translate(0,"+M.y+")"),H=d3.scaleLinear().domain([0,2]).range([M.x,M.x+M.width]),J=d3.axisTop(H).ticks(0).tickSize(4);S.call(J),S.append("text").attr("x",M.x-16).attr("y",1).text("2 km");var O=x.append("g").attr("class","rivernames");O.append("text").attr("x",469).attr("y",128).attr("transform","rotate(-11 469 128)").text("Nederrijn"),O.append("text").attr("x",483).attr("y",301).attr("transform","rotate(22 483 301)").text("Waal")}())});var j=f.append("div").attr("id","water-buttons-container");j.append("button").attr("id","high-water-button").attr("class","w3-button w3-small").on("click",function(){d3.select(this).classed("disabled")||d3.select(this).classed("zooming")||(d3.selectAll("#high-water-button,#zoom-button").classed("disabled",!0),t.transition().ease(d3.easeLinear).duration(g).attr("d",r).transition().duration(w).ease(d3.easeLinear).style("fill-opacity",1).on("end",function(){d3.selectAll("#low-water-button,#zoom-button").classed("disabled",!1)}),d3.selectAll(".rivernames text").transition().duration(g).transition().duration(w).style("fill","rgb(82,144,228)"),d3.selectAll(".rivernames").transition().duration(g).transition().duration(w).attr("transform","translate(0,-5)"))}).html("laat het<br>water stijgen"),j.append("button").attr("id","low-water-button").attr("class","w3-button w3-small").on("click",function(){d3.select(this).classed("disabled")||d3.select(this).classed("zooming")||(d3.selectAll("#low-water-button,#zoom-button").classed("disabled",!0),t.transition().ease(d3.easeLinear).duration(w).style("fill-opacity",.5).transition().ease(d3.easeLinear).duration(g).attr("d",e).on("end",function(){d3.selectAll("#high-water-button,#zoom").classed("disabled",!1)}),d3.selectAll(".rivernames text").transition().duration(w).style("fill","rgb(124,181,218)"),d3.selectAll(".rivernames").transition().duration(w).attr("transform","translate(0,0)"))}).classed("disabled",!0).html("laat het<br>water zakken");var v=d3.select("#map"),z=d3.selectAll("#high-water-button,#low-water-button");f.append("div").attr("id","zoom-button-container").append("button").attr("id","zoom-button").attr("class","w3-button w3-small w3-yellow").on("click",function(){var t,e,r,a=d3.select(this);a.classed("zoom-in")?(t=.045,e=290,r=200,a.classed("zoom-in",!1).classed("zoom-out",!0).html("zoom in<br>op gebied")):a.classed("zoom-out")&&(t=1,e=0,r=0,a.classed("zoom-out",!1).classed("zoom-in",!0).html("waar ligt<br>dit gebied?")),v.transition().duration(w).attr("transform","translate("+e+", "+r+") scale("+t+")").call(function(){1!==t&&z.classed("zooming",!0)}).on("end",function(){1===t&&z.classed("zooming",!1)})}).classed("zoom-in",!0).html("waar ligt<br>dit gebied?")}draw();
//# sourceMappingURL=uiterwaarden.min.js.map
